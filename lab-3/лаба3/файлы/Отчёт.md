# Задача
Поднять kubernetes кластер локально (например minikube), в нём развернуть свой сервис, используя 2-3 ресурса kubernetes. В идеале разворачивать кодом из yaml файлов одной командой запуска. Показать работоспособность сервиса.
(сервис любой из своих не опенсорсных, вывод “hello world” в браузер тоже подойдёт)

# Ход работы
## Установка инструментов
Работа проводилась в ОС Ubuntu 24.04.1 LTS<br />
Перед началом работы были установлены следующие инструменты:
* Minikube - то инструмент для запуска Kubernetes локально.
* Kubectl - Это CLI-инструмент, который позволяет запускать команды для кластеров Kubernetes.


## Создание простого сервиса
В редакторе кода vscode был написан простой HTTP-сервис на Node.js - server.js, который выводит "Hello World". 

## Написание Kubernetes манифестов
Для того, чтобы описать как получившийся сервис должен быть развернут и работать в Kubernetes были написаны два манифеста yaml, каждый из которых отвечает за управление конкретным Kubernetes ресурсом, а именно:
* Deployment — отвечает за развертывание и управление подами. 
* Service — отвечает за предоставление доступа к сетевому приложению, работающему как один или несколько модулей кластере.
Для того чтобы применть получившиеся манифесты одной командой был написан файл k8s.yaml, который содержит в себе объединённые манифесты.

## Сборка Docker-образа и выгрузка его на Docker Hub
Далее для того, чтобы упаковать получившийся сервис в Docker-контейнер, был создан Dockerfile:
[dockerfile](/home/lampenkopf/projects/image1.png)
Как видно на рисунке докер ообраз успешно построился, после была выполнена авторизация в dockerhub и полученный образ был выгружен:
[image](/home/lampenkopf/projects/image2.png)

## Развертывание Kubernetes сервиса
Был запущен Minikube  для создания локального Kubernetes-кластера:
```
minikube start
```
И его окружение было переключено на Docker-демон:
```
eval $(minikube docker-env)
```
 Затем были применены манифесты Kubernetes из файла k8s.yaml
```
 kubectl apply -f k8s.yaml
```
Которые развернули приложение в кластере:
[deployment](/home/lampenkopf/projects/image3.png)


## Проверка работоспособноси
Чтобы получить URL для доступа к получившемуся сервису с браузера, была выполнена следующая команда:
```
minikube service simple-service-service
```
После чего Minikube автоматически открыл его в браузере:
[result](/home/lampenkopf/projects/image4.png)
